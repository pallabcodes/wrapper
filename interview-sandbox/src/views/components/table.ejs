<% 
  // Table component with Tailwind CSS
  // Usage: <%- include('../components/table', { 
  //   headers: ['Name', 'Email', 'Role'],
  //   data: [{ name: 'John', email: 'john@example.com', role: 'user' }],
  //   columns: ['name', 'email', 'role']
  // }) %>
  
  const headers = typeof headers !== 'undefined' ? headers : [];
  const data = typeof data !== 'undefined' ? data : [];
  const columns = typeof columns !== 'undefined' ? columns : [];
  const striped = typeof striped !== 'undefined' ? striped : true;
  const hover = typeof hover !== 'undefined' ? hover : true;
  const bordered = typeof bordered !== 'undefined' ? bordered : false;
%>

<div class="overflow-x-auto shadow-md rounded-lg border border-gray-200">
  <table class="min-w-full divide-y divide-gray-200 <%= hover ? 'divide-y' : '' %>">
    <% if (headers.length > 0) { %>
      <thead class="bg-gray-800 text-white">
        <tr>
          <% headers.forEach(function(header) { %>
            <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"><%= header %></th>
          <% }); %>
        </tr>
      </thead>
    <% } %>
    <tbody class="bg-white divide-y divide-gray-200 <%= striped ? '[&>tr:nth-child(even)]:bg-gray-50' : '' %>">
      <% if (data.length === 0) { %>
        <tr>
          <td colspan="<%= headers.length || columns.length %>" class="px-6 py-4 text-center text-gray-500">
            No data available
          </td>
        </tr>
      <% } else { %>
        <% data.forEach(function(row, index) { %>
          <tr class="<%= hover ? 'hover:bg-gray-100 transition' : '' %>">
            <% columns.forEach(function(column) { %>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 <%= bordered ? 'border border-gray-200' : '' %>">
                <%= row[column] !== undefined ? row[column] : '' %>
              </td>
            <% }); %>
          </tr>
        <% }); %>
      <% } %>
    </tbody>
  </table>
</div>
