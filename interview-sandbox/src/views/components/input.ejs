<% 
  // Reusable Input Component
  // Usage: <%- include('../components/input', {
  //   id: 'email',
  //   name: 'email',
  //   type: 'email',
  //   label: 'Email Address',
  //   placeholder: 'Enter your email',
  //   value: '',
  //   required: true,
  //   error: '',
  //   helperText: '',
  //   icon: 'fas fa-envelope'
  // }) %>
  
  const inputId = typeof id !== 'undefined' ? id : `input_${Math.random().toString(36).substring(7)}`;
  const inputName = typeof name !== 'undefined' ? name : inputId;
  const inputType = typeof type !== 'undefined' ? type : 'text';
  const inputLabel = typeof label !== 'undefined' ? label : '';
  const inputPlaceholder = typeof placeholder !== 'undefined' ? placeholder : '';
  const inputValue = typeof value !== 'undefined' ? value : '';
  const inputRequired = typeof required !== 'undefined' ? required : false;
  const inputError = typeof error !== 'undefined' ? error : '';
  const inputHelperText = typeof helperText !== 'undefined' ? helperText : '';
  const inputIcon = typeof icon !== 'undefined' ? icon : '';
  const inputDisabled = typeof disabled !== 'undefined' ? disabled : false;
  const inputReadonly = typeof readonly !== 'undefined' ? readonly : false;
  const inputMinlength = typeof minlength !== 'undefined' ? minlength : null;
  const inputMaxlength = typeof maxlength !== 'undefined' ? maxlength : null;
  const inputPattern = typeof pattern !== 'undefined' ? pattern : null;
  const inputAutocomplete = typeof autocomplete !== 'undefined' ? autocomplete : '';
  const inputSize = typeof size !== 'undefined' ? size : 'base'; // 'sm', 'base', 'lg'
  
  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    base: 'px-4 py-2',
    lg: 'px-5 py-3 text-lg'
  };
  
  const iconSizeClasses = {
    sm: 'text-sm',
    base: 'text-base',
    lg: 'text-lg'
  };
%>

<div class="input-group">
  <% if (inputLabel) { %>
    <label 
      for="<%= inputId %>" 
      class="block text-sm font-medium mb-1.5 transition-design"
      style="color: var(--text-secondary);"
    >
      <%= inputLabel %>
      <% if (inputRequired) { %>
        <span style="color: var(--color-error);">*</span>
      <% } %>
    </label>
  <% } %>
  
  <div class="relative">
    <% if (inputIcon) { %>
      <div 
        class="absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none transition-design"
        style="color: var(--text-tertiary);"
      >
        <i class="<%= inputIcon %> <%= iconSizeClasses[inputSize] %>"></i>
      </div>
    <% } %>
    
    <input 
      type="<%= inputType %>"
      id="<%= inputId %>"
      name="<%= inputName %>"
      <% if (inputPlaceholder) { %>placeholder="<%= inputPlaceholder %>"<% } %>
      <% if (inputValue) { %>value="<%= inputValue %>"<% } %>
      <% if (inputRequired) { %>required<% } %>
      <% if (inputDisabled) { %>disabled<% } %>
      <% if (inputReadonly) { %>readonly<% } %>
      <% if (inputMinlength) { %>minlength="<%= inputMinlength %>"<% } %>
      <% if (inputMaxlength) { %>maxlength="<%= inputMaxlength %>"<% } %>
      <% if (inputPattern) { %>pattern="<%= inputPattern %>"<% } %>
      <% if (inputAutocomplete) { %>autocomplete="<%= inputAutocomplete %>"<% } %>
      class="w-full <%= sizeClasses[inputSize] %> border rounded-design-lg outline-none transition-design focus:ring-2 focus:ring-offset-0 <%= inputIcon ? 'pl-10' : '' %> <%= inputError ? 'border-red-500 focus:border-red-500 focus:ring-red-200' : 'border-medium focus:border-primary-500 focus:ring-primary-200' %>"
      style="
        border-color: <%= inputError ? 'var(--color-error)' : 'var(--border-medium)' %>;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        <% if (inputDisabled) { %>
          background-color: var(--bg-tertiary);
          cursor: not-allowed;
          opacity: 0.6;
        <% } %>
      "
      onfocus="if (!this.disabled) { this.style.borderColor='<%= inputError ? 'var(--color-error)' : 'var(--color-primary-500)' %>'; this.style.boxShadow='0 0 0 3px <%= inputError ? 'var(--color-error-light)' : 'var(--color-primary-100)' %>'; }"
      onblur="this.style.borderColor='<%= inputError ? 'var(--color-error)' : 'var(--border-medium)' %>'; this.style.boxShadow='none';"
    >
  </div>
  
  <% if (inputError) { %>
    <p class="mt-1 text-sm flex items-center space-x-1" style="color: var(--color-error);">
      <i class="fas fa-exclamation-circle text-xs"></i>
      <span><%= inputError %></span>
    </p>
  <% } else if (inputHelperText) { %>
    <p class="mt-1 text-sm" style="color: var(--text-tertiary);">
      <%= inputHelperText %>
    </p>
  <% } %>
</div>

